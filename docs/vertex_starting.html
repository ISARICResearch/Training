<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Getting Started with VERTEX</title>

<style>
    body {
        display: flex;
        font-family: Arial, sans-serif;
        margin: 0;
        overflow-x: hidden;
    }
    .sidebar {
        width: 250px;
        background-color: #f4f4f4;
        padding: 15px;
        box-shadow: 2px 0 5px rgba(0,0,0,0.1);
        height: 100vh;
        position: fixed;
        overflow-y: auto;
    }
    .content {
        margin-left: 270px;
        padding: 20px;
        max-width: 900px;
    }
    .content h1, .content h2, .content h3 {
        margin-top: 40px;
    }
    .content p, .content img {
        max-width: 100%;
    }
    pre {
        background-color: #2d2d2d;
        color: #f8f8f2;
        padding: 10px;
        border-radius: 5px;
        overflow-x: auto;
    }
    code {
        color: #f8f8f2;
    }
    .sidebar a {
        display: block;
        padding: 10px;
        color: #333;
        text-decoration: none;
        margin-bottom: 5px;
        border-radius: 5px;
    }
    .sidebar a:hover {
        background-color: #ddd;
    }
    .footer {
        background-color: #f4f4f4;
        text-align: center;
        padding: 15px;
        box-shadow: 0 -2px 5px rgba(0,0,0,0.1);
        margin-top: auto; /* Push the footer to the bottom */
    }
</style>
</head>

<body>
    <p>This page is currently being updated. Please check back soon!</p>
<!--     <div class="sidebar">
    <h2><a href="https://isaricresearch.github.io/Training/">Home</a></h2>
    <div style="padding-left:10px">
        <h2>Contents</h2>
        <a href="#introduction">Introduction</a>
        <a href="#auto_install">Automatic installation</a>
        <a href="#installation">Manual installation</a>
        <a href="#dashboard_script">Running the dashboard script</a>
        <a href="#dashboard">VERTEX dashboard</a>
        <a href="#insight_panels">Insight panels</a>
        <a href="#next_steps">Next steps</a>
    </div>
    </div>
    <div class="content">
    
    <h1 id="getting_started">Getting Started with VERTEX</h1>
    
    <h2 id="introduction">Introduction</h2>
    
    <p>VERTEX (Visual Evidence & Research Tool for Exploration) is a web-based application that presents graphs and tables relating to research questions that need to be quickly answered during an outbreak. This helps identification of key epidemiological factors and facilitates data-driven decision-making.</p>
    
    <video loop controls autoplay muted>
        <source src="https://github.com/ISARICResearch/Training/raw/main/docs/assets/vertex.mp4" type="video/mp4">
    </video>

    <p>VERTEX is built using blocks of code, which we call <strong>reproducible analytical pipelines</strong> (RAPs). RAPs are used to create visualisations, graphs and tables, each of which we call an <strong>insight</strong>. Insights are grouped together in an <strong>insight panel</strong> to provide information about one study endpoint relating to a particular research question. You will learn more about RAPs and insight panels in this guide and in the following VERTEX guides.</p>

    <p>At the moment, we have insight panels for the following research questions:
    <ul>
        <li>What are the characteristics and clinical presentation of patients with ... at hospital admission?</li>
        <li>What are the outcomes within ... days of presentation, and what are the risk factors associated with these outcomes?</li>
        <li>What treatments are administered to patients with ... during their observation period?</li>
    </ul>
    New questions will be added by the ISARIC team and the wider scientific community, enabling the creation and sharing of new RAPs and insight panels.</p>
    
    <p>This guide will help you set up a VERTEX dashboard on your local machine, and explore the existing pipelines.</p>

    <h2 id="auto_install">Automatic Installation</h2>

    <p>Download and run the installer file <a href="https://github.com/ISARICResearch/VERTEX/raw/main/VERTEX_Win_AutoInstaller.exe"><samp>VERTEX_Win_AutoInstaller.exe</samp></a> in any location on your computer. Wait for a terminal window to open, and a sequence of commands will execute. The installation process takes about 10 minutes. You don't need to keep the window maximized (it can be minimized while the process runs).</p>  
    
    <h3>Possible issues:</h3>
    <ul>
        <li>If the window closes instantly or within the first few seconds of execution, click again to run the installer.</li>
        <li>If the page remains static on <span class="highlight">"Info"</span>, do not close the window, as the installation has not finished yet.</li>
        <li>If you are working with VS Code, you will need to change the Python compiler to the pyenv compiler (always the latest version).</li>
    </ul>
        
    <h2 id="installation">Manual Installation</h2>
    
    <h3 id="cloning">Cloning the repository</h3>
    
    <p>First, clone the VERTEX GitHub repository. If you have <a href="https://github.com/git-guides/install-git">git</a> already installed then, at the command line:</p>

    <pre><code>git clone https://github.com/ISARICResearch/VERTEX.git</code></pre>
    
    <p>You can also download the repository manually, by clicking on the green button "Code" in the VERTEX GitHub repository, then on "Download ZIP".</p>
    
    <img src="https://github.com/ISARICResearch/Training/raw/main/docs/assets/16_github.png" alt="GitHub">
    
    <p>This will create a local version of the repository on your machine.</p>
    
    <p>If you used git, this repository will be in your current working directory, named VERTEX. Navigate to the repository, at the command line:</p>
    
    <pre><code>cd VERTEX</code></pre>
    
    <p>If you downloaded the repository manually, this repository will be in your Downloads folder, named VERTEX-main. Click into this folder.</p>

    <p>VERTEX is a tool based on Python code. Please ensure you have <a href="https://www.python.org/downloads/">Python</a> installed on your machine. You can check which version of Python you currently have installed, at the command line:</p>
    
    <pre><code>python --version</code></pre>
    
    <p>Install the dependencies using the <a href="https://github.com/ISARICResearch/VERTEX/blob/main/requirements.txt.py"><samp>requirements.txt</samp></a> file. If you are currently working on several projects, you may want to create a new environment for VERTEX. You may want to use environment management software such as <a href="https://www.docker.com">Docker</a> or <a href="https://docs.conda.io/en/latest/Conda">Conda</a>.</p>
    
    <pre><code>python3 -m pip install -r requirements.txt</code></pre>
    
    <h2 id="config_file">Modifying the config file</h2>
    
    <p>If you want VERTEX to run using a REDCap database, you need to modify the file called <a href="https://github.com/ISARICResearch/VERTEX/blob/main/redcap_config.py"><samp>redcap_config.py</samp></a> to include your REDCap API token. The API token currently in this file is for a small low-fidelity synthetic dataset (fake data) hosted in an ISARIC REDCap project.</p>
    
    <p>If your database contains real patient data, then is vitally important that you <strong>do not share this API token</strong>, as others may be able to access your data if you do so. The easiest way to avoid this scenario is if you do not share your version of the <samp>redcap_config.py</samp>, once you've updated this.</p>
    
    <p>You should also change the REDCap url to your institution's REDCap URL and provide site codes for all sites in your database. VERTEX currently assumes the subject IDs are formatted as <samp>xxxxx-yyyyy</samp> where <samp>xxxxx</samp> is the site code listed and <samp>yyyyy</samp> is the patient number for that site, as ISARIC standard procedure.</p>
    
    <p>If this is not the case for your REDCap project, or if you do not know how to access the details needed for the config file, then please get in touch at <a href="mailto:data@isaric.org">data@isaric.org</a> and we will help you to modify this.</p>

    <pre><code>redcap_api_key='BCC83FD05676798456262ED4883FD85C'
redcap_url='https://ncov.medsci.ox.ac.uk/api/'
site_mapping={'00000':'COL',
              '00001':'GBR',
              '00002':'CAN',
              '00003':'KEN',
              '00004':'FRA',
              '00005':'POL',
              '00006':'UGA',
              '00007':'RWA',
              '00008':'BRA',
              '00009':'NLD'}</code></pre>
    
    <h2 id="dashboard_script">Running the dashboard script</h2>

    <p>After the installation of VERTEX is complete, open a terminal or a code editor and run the following command. If you have downloaded VERTEX manually, you should run this from within the VERTEX repository.</p>
        
    <pre><code>descriptive_dashboard.py</code></pre>
    
    <p>The VERTEX dashboard will now be running. The program will print output including the following: <samp>Dash is running on http://xxx.x.x.x:xxxx/</samp>, where each <samp>x</samp> is replaced by a number. The default URL is <a href="http://127.0.0.1:8050" target="_blank">http://127.0.0.1:8050</a>. Copy this http address into your web browser to open the dashboard.</p>
        
    <h2 id="dashboard">VERTEX dashboard</h2>
    
    <p>The VERTEX dashboard is an interactive map with a menu for accessing insight panels. The first item in the menu is <strong>Filters and Controls</strong>, which can be used to filter the displayed data according to Gender, Age, Outcome, and Country (A). Each of the other items in the menu represents on a key research question (B). Within an item, there are items for each study endpoint associated with this research question. Clicking on one of these items will bring up the insight panel for this endpoint. Countries with patients in the data is highlighted on the map, with the colour indicating how many patients are from each country (C).</p>
    
    <img src="https://github.com/ISARICResearch/Training/raw/main/docs/assets/10_vertex.png" alt="VERTEX structure">
    
    <h2 id="insight_panels">Insight panels</h2>
    
    <p>Insight panels show visualisations relevant to a particular study endpoint. An insight panel contains another <strong>Filters and Controls</strong> setting (D), a list of all insights for the endpoint (E), a visualisation or table for the selected insight (F), and <strong>About</strong> and <strong>Instructions</strong> buttons for further information (G).</p>
    
    <img src="https://github.com/ISARICResearch/Training/raw/main/docs/assets/17_insights.png" alt="VERTEX structure">
    
<!--     <p>The VERTEX dashboard includes default insight panels:</p>

    <ul>
    <li>Characterisation
      <ul>
        <li>Clinical features</li>
      </ul></li>
    <li>Risk/Prognosis
      <ul>
        <li>Clinical features by patient outcome</li>
        <li>Risk factors for patient outcomes</li>
      </ul></li>
    </ul> -->

    <h2 id="next_steps">Next steps</h2>
    
    <p>For a more detailed guide in writing new reproducible analytic pipelines (RAPs) for VERTEX, please refer to the <a href="https://isaricresearch.github.io/Training/insight_panel.html">insight panel guide</a>.</p>
     -->
    <div class="footer">
        <p>Licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative Commons Attribution-ShareAlike 4.0</a> International License by  <a href="https://isaric.org/" target="_blank">ISARIC</a> on behalf of Oxford University.</p>
    </div>
</body>
</html>
